<?xml version="1.0" encoding="iso-8859-1"?>

<root>
	<template name="frame_setup">
		<genericcontrol name="contentframe">
			<anchored to="contentanchor">
				<top anchor="bottom" offset="20"/>
				<left offset="5"/>
				<right offset="-10"/>
				<bottom parent="" offset="-80"/>
			</anchored>
			<frame name="groupbox" offset="15,15,20,15"/>
			<disabled/>
		</genericcontrol>
	</template>
	<template name="button_setup_next">
		<button_text name="button_next">
			<anchored to="contentanchor" height="20" width="60">
				<right offset="-10"/>
				<bottom parent="" offset="-30"/>
			</anchored>
			<state textres="setup_button_next"/>
			<script>
				function onButtonPress()
					window.onButtonNext();
				end
			</script>
		</button_text>
	</template>
	<template name="button_setup_prev">
		<button_text name="button_prev">
			<anchored to="contentanchor" height="20" width="60">
				<left offset="10"/>
				<bottom parent="" offset="-30"/>
			</anchored>
			<state textres="setup_button_prev"/>
			<invisible/>
			<script>
				function onButtonPress()
					window.onButtonPrev();
				end
			</script>
		</button_text>
	</template>
	<template name="button_setup_finish">
		<button_text name="button_finish">
			<anchored to="contentanchor" height="20" width="60">
				<right offset="-10"/>
				<bottom parent="" offset="-30"/>
			</anchored>
			<state textres="setup_button_finish"/>
			<invisible/>
			<script>
				function onButtonPress()
					window.close();
				end
			</script>
		</button_text>
	</template>
	<template name="frame_setup_showonload">
		<genericcontrol name="showonload_frame">
			<anchored to="contentanchor" width="120" height="20">
				<left anchor="center" offset="-60"/>
				<bottom parent="" offset="-30"/>
			</anchored>
			<frame name="groupbox" offset="15,10,15,10"/>
		</genericcontrol>
	</template>
	<template name="button_setup_showonload">
		<buttonfield name="showonload">
			<anchored to="showonload_frame" position="insidetopright" height="20" width="20"/>
			<state icon="button_checkoff"/>
			<state icon="button_checkon"/>
			<script>
				function onInit()
					if User.isLocal() then
						if GlobalRegistry[User.getRulesetName()] and GlobalRegistry[User.getRulesetName()].setup then
							setValue(0);
						else
							setValue(1);
						end
					else
						if CampaignRegistry.setup then
							setValue(0);
						else
							setValue(1);
						end
					end
				end
				function onClose()
					if User.isLocal() then
						if not GlobalRegistry[User.getRulesetName()] then GlobalRegistry[User.getRulesetName()] = {}; end;
						if getValue() == 0 then
							GlobalRegistry[User.getRulesetName()].setup = true;
						else
							GlobalRegistry[User.getRulesetName()].setup = nil;
						end
					else
						if getValue() == 0 then
							CampaignRegistry.setup = true;
						else
							CampaignRegistry.setup = nil;
						end
					end
				end
			</script>
		</buttonfield>
	</template>
	<template name="button_setup_link">
		<button_text>
			<script>
				function onButtonPress()
					if urlres then
						Interface.openWindow("url", Interface.getString(urlres[1]));
					elseif url then
						Interface.openWindow("url", url[1])
					end
				end
			</script>
		</button_text>
	</template>
	<template name="button_setup_left_link">
		<button_setup_link>
			<anchored height="20">
				<top parent="columnanchor" anchor="bottom" relation="relative" offset="12"/>
				<left offset="5"/>
				<right anchor="center" offset="-5"/>
			</anchored>
		</button_setup_link>
	</template>
	<template name="button_setup_right_link">
		<button_setup_link>
			<anchored height="20">
				<top parent="columnanchor" anchor="bottom" relation="current" offset="-20"/>
				<left anchor="center" offset="5"/>
				<right offset="-5"/>
			</anchored>
		</button_setup_link>
	</template>
	<template name="button_setup_moduleset">
		<button_text insertbefore="spacer_modules">
			<script>
				local sModuleSetName = nil;
				local aModuleSet = nil;
				function setData(sNameValue, aModuleSetValue)
					sModuleSetName = sNameValue;
					aModuleSet = aModuleSetValue;
					setText(sModuleSetName);
				end
				function onButtonPress()
					local w = Interface.openWindow("modulesetload", "");
					w.setData(sModuleSetName, aModuleSet);
				end
			</script>
		</button_text>
	</template>
	<template name="button_setup_left_moduleset">
		<button_setup_moduleset>
			<anchored height="20">
				<top parent="columnanchor" anchor="bottom" relation="relative" offset="12"/>
				<left offset="5"/>
				<right anchor="center" offset="-5"/>
			</anchored>
		</button_setup_moduleset>
	</template>
	<template name="button_setup_right_moduleset">
		<button_setup_moduleset>
			<anchored height="20">
				<top parent="columnanchor" anchor="bottom" relation="current" offset="-20"/>
				<left anchor="center" offset="5"/>
				<right offset="-5"/>
			</anchored>
		</button_setup_moduleset>
	</template>
	<template name="button_setup_full">
		<button_text>
			<anchored height="20">
				<top parent="columnanchor" anchor="bottom" relation="relative" offset="12"/>
				<left offset="5"/>
				<right offset="-5"/>
			</anchored>
		</button_text>
	</template>
	<template name="button_setup_column_help">
		<help>
			<anchored to="header" height="24" width="24">
				<top offset="-2"/>
				<right offset="10"/>
			</anchored>
		</help>
	</template>
	
	<windowclass name="setup" merge="delete"/>
	
	<windowclass name="setup_step1" merge="delete"/>
	
	<windowclass name="setup_step2" merge="delete"/>
	
	<windowclass name="setup_step3" merge="delete"/>
	
	<windowclass name="setup_step4" merge="delete"/>
	
	<windowclass name="modulesetload" merge="delete"/>
	
	<windowclass name="modulesetload_entry" merge="delete"/>
</root>
